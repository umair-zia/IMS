{% extends 'side-bar.html' %} {% load static %} {% block links %}
<link rel="stylesheet" href="{% static 'css/side-bar.css' %}" />
{% endblock %} {% block content %}

<div class="row form-create-schedule">
  <div class="col-md-12 text-center">
    <form
      method="post"
      action="{% url 'schedule:createSchedule' %}"
      onsubmit="return restictWeekends()"
    >
      {% csrf_token %}
      <h3 class="heading-first">
        Schedule >
        <span class="heading-last">Create Schedule</span>
      </h3>

      <div class="row">
        <div class="col-md-4 offset-md-4">
          <div class="form-group form-ctrl">
            <input
              type="text"
              class="form-control"
              onfocus="(this.type='date')"
              id="start-date"
              placeholder="Start Date"
              name="startDate"
              required
            />
          </div>

          <div class="form-group form-ctrl">
            <input
              type="text"
              class="form-control"
              onfocus="(this.type='date')"
              id="end-date"
              placeholder="End Date"
              name="endDate"
              required
            />
          </div>
        </div>
        </div>
        <div class="row">
                  <div class="col-md-4 offset-md-4">
          <button type="submit" class="button-submit">Submit</button>
        </div>
        </div>


    </form>
  </div>
</div>

{% block script %}
<script>
    $("#start-date").datepicker({
        defaultDate: new Date(),
        minDate: new Date(),
        onSelect: function(dateStr)
        {
            $("#end-date").val(dateStr);
            $("#end-date").datepicker("option",{ minDate: new Date(dateStr)})
        }
    });
  function restictWeekends() {
    var condition = true;
    var x = document.getElementById("start-date").value;
    var y = document.getElementById("end-date").value;
    var dx = new Date(x);
    var dy = new Date(y);
    if (dx.getDay() == 6 || dx.getDay() == 0) {
      alert("you have selected weekends from start date");
      condition = false;
    }
    if (dy.getDay() == 6 || dy.getDay() == 0) {
      alert("you have selected weekends from end date");
      condition = false;
    }
    return condition;
  }
</script>
{% endblock %} {% endblock %}
